
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>VCH Certificate Options Â· VMware vSphere Integrated Containers 1.3 Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-insert-logo/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="tls_unrestricted.html" />
    
    
    <link rel="prev" href="vch_security.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">vSphere Integrated Containers 1.3</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../vic_quickstart.html">
            
                <a href="../vic_quickstart.html">
            
                    
                    Quick Start Links
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../vic_overview/">
            
                <a href="../vic_overview/">
            
                    
                    Overview
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../vic_overview/intro_to_containers.html">
            
                <a href="../vic_overview/intro_to_containers.html">
            
                    
                    Containers, Docker, Registries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../vic_overview/intro_to_vic.html">
            
                <a href="../vic_overview/intro_to_vic.html">
            
                    
                    vSphere Integrated Containers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="../vic_overview/intro_to_vic_engine.html">
            
                <a href="../vic_overview/intro_to_vic_engine.html">
            
                    
                    Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="../vic_overview/intro_to_vic_mp.html">
            
                <a href="../vic_overview/intro_to_vic_mp.html">
            
                    
                    Management Portal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="../vic_overview/intro_to_vic_registry.html">
            
                <a href="../vic_overview/intro_to_vic_registry.html">
            
                    
                    Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="../vic_overview/roles_and_personas.html">
            
                <a href="../vic_overview/roles_and_personas.html">
            
                    
                    Roles and Personas
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="./">
            
                <a href="./">
            
                    
                    Install, Deploy, Maintain Infrastructure
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="installing_vic.html">
            
                <a href="installing_vic.html">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="download_vic.html">
            
                <a href="download_vic.html">
            
                    
                    Download Installer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="vic_installation_prereqs.html">
            
                <a href="vic_installation_prereqs.html">
            
                    
                    Deployment Prerequisites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="deploy_vic_appliance.html">
            
                <a href="deploy_vic_appliance.html">
            
                    
                    Deploy the Appliance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.3.1" data-path="ova_reg_api.html">
            
                <a href="ova_reg_api.html">
            
                    
                    Appliance Initialization API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="vic_engine_bundle.html">
            
                <a href="vic_engine_bundle.html">
            
                    
                    Download the vSphere Integrated Containers Engine Bundle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5" data-path="install_vic_plugin.html">
            
                <a href="install_vic_plugin.html">
            
                    
                    Installing the Plug-ins
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.5.1" data-path="plugins_vc_windows.html">
            
                <a href="plugins_vc_windows.html">
            
                    
                    vCenter Server for Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.2" data-path="plugins_vcsa.html">
            
                <a href="plugins_vcsa.html">
            
                    
                    vCenter Server Appliance
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="deploy_vch.html">
            
                <a href="deploy_vch.html">
            
                    
                    Deploy VCHs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="using_vicmachine.html">
            
                <a href="using_vicmachine.html">
            
                    
                    Using vic-machine
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1.1" data-path="running_vicmachine_cmds.html">
            
                <a href="running_vicmachine_cmds.html">
            
                    
                    Running Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.1.2" data-path="obtain_thumbprint.html">
            
                <a href="obtain_thumbprint.html">
            
                    
                    Obtain Certificate Thumbprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.1.3" data-path="vic_env_variables.html">
            
                <a href="vic_env_variables.html">
            
                    
                    Set Environment Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.1.4" data-path="open_ports_on_hosts.html">
            
                <a href="open_ports_on_hosts.html">
            
                    
                    Open the Required Ports on ESXi Hosts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.1.5" data-path="deploy_vch_esxi.html">
            
                <a href="deploy_vch_esxi.html">
            
                    
                    Deploy a VCH to an ESXi Host with No vCenter Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.1.6" data-path="deploy_vch_vcenter.html">
            
                <a href="deploy_vch_vcenter.html">
            
                    
                    Deploy a VCH to a Basic vCenter Server Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.1.7" data-path="verify_vch_deployment.html">
            
                <a href="verify_vch_deployment.html">
            
                    
                    Verify the Deployment of a VCH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.1.8" data-path="vch_boot_options.html">
            
                <a href="vch_boot_options.html">
            
                    
                    VCH Boot Options
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="deploy_vch_client.html">
            
                <a href="deploy_vch_client.html">
            
                    
                    Deploy VCHs in vSphere Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="vch_general_settings.html">
            
                <a href="vch_general_settings.html">
            
                    
                    General Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.4" data-path="vch_compute.html">
            
                <a href="vch_compute.html">
            
                    
                    Compute Capacity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.5" data-path="vch_storage.html">
            
                <a href="vch_storage.html">
            
                    
                    Storage Capacity
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.5.1" data-path="image_store.html">
            
                <a href="image_store.html">
            
                    
                    Image Datastore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.5.2" data-path="volume_stores.html">
            
                <a href="volume_stores.html">
            
                    
                    Volume Datastores
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2.6" data-path="vch_networking.html">
            
                <a href="vch_networking.html">
            
                    
                    Networks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.6.1" data-path="bridge_network.html">
            
                <a href="bridge_network.html">
            
                    
                    Bridge Networks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.6.2" data-path="public_network.html">
            
                <a href="public_network.html">
            
                    
                    Public Network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.6.3" data-path="client_network.html">
            
                <a href="client_network.html">
            
                    
                    Client Network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.6.4" data-path="mgmt_network.html">
            
                <a href="mgmt_network.html">
            
                    
                    Management Network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.6.5" data-path="vch_proxy.html">
            
                <a href="vch_proxy.html">
            
                    
                    Proxy Servers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.6.6" data-path="container_networks.html">
            
                <a href="container_networks.html">
            
                    
                    Container Networks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2.7" data-path="vch_security.html">
            
                <a href="vch_security.html">
            
                    
                    Security
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.1.2.7.1" data-path="vch_cert_options.html">
            
                <a href="vch_cert_options.html">
            
                    
                    VCH Certificate Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.7.2" data-path="tls_unrestricted.html">
            
                <a href="tls_unrestricted.html">
            
                    
                    Disable Client Verification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2.8" data-path="vch_registry.html">
            
                <a href="vch_registry.html">
            
                    
                    Registry Access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.9" data-path="set_up_ops_user.html">
            
                <a href="set_up_ops_user.html">
            
                    
                    Operations User
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.9.1" data-path="ops_user_manual.html">
            
                <a href="ops_user_manual.html">
            
                    
                    Manually Create a User Account for the Operations User
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2.10" data-path="complete_vch_deployment_client.html">
            
                <a href="complete_vch_deployment_client.html">
            
                    
                    Finish VCH Deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.11" data-path="deploy_vch_dchphoton.html">
            
                <a href="deploy_vch_dchphoton.html">
            
                    
                    Deploy VCH for dch-photon
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="vch_admin.html">
            
                <a href="vch_admin.html">
            
                    
                    VCH Administration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="interop.html">
            
                <a href="interop.html">
            
                    
                    Interoperability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.2" data-path="vch_admin_client.html">
            
                <a href="vch_admin_client.html">
            
                    
                    VCH Admin in the vSphere Client
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.2.1" data-path="access_h5_ui.html">
            
                <a href="access_h5_ui.html">
            
                    
                    View All VCH and Container Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.2.2" data-path="vch_portlet_ui.html">
            
                <a href="vch_portlet_ui.html">
            
                    
                    View Individual VCH and Container Information
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3.3" data-path="vch_admin_vicmachine.html">
            
                <a href="vch_admin_vicmachine.html">
            
                    
                    VCH Admin with vic-machine
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.3.1" data-path="vic_machine_version.html">
            
                <a href="vic_machine_version.html">
            
                    
                    Obtain Version Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3.2" data-path="common_vic_options.html">
            
                <a href="common_vic_options.html">
            
                    
                    Common Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3.3" data-path="list_vch.html">
            
                <a href="list_vch.html">
            
                    
                    List VCHs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3.4" data-path="inspect_vch.html">
            
                <a href="inspect_vch.html">
            
                    
                    Obtain General VCH Information and Connection Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3.5" data-path="inspect_vch_config.html">
            
                <a href="inspect_vch_config.html">
            
                    
                    Obtain VCH Configuration Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3.6" data-path="configure_vch.html">
            
                <a href="configure_vch.html">
            
                    
                    Configure Running VCHs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3.7" data-path="debug_vch.html">
            
                <a href="debug_vch.html">
            
                    
                    Debug Running VCHs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.3.7.1" data-path="vch_shell_access.html">
            
                <a href="vch_shell_access.html">
            
                    
                    Enable Shell Access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.3.7.2" data-path="vch_ssh_access.html">
            
                <a href="vch_ssh_access.html">
            
                    
                    Authorize SSH Access
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3.4" data-path="remove_vch.html">
            
                <a href="remove_vch.html">
            
                    
                    Delete VCHs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.5" data-path="access_vicadmin.html">
            
                <a href="access_vicadmin.html">
            
                    
                    VCH Admin Portal
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.5.1" data-path="browser_login.html">
            
                <a href="browser_login.html">
            
                    
                    Browser-Based Certificate Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.5.2" data-path="cmdline_login.html">
            
                <a href="cmdline_login.html">
            
                    
                    Command Line Certificate Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.5.3" data-path="vicadmin_status_ref.html">
            
                <a href="vicadmin_status_ref.html">
            
                    
                    VCH Admin Status Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="upgrading_vic.html">
            
                <a href="upgrading_vic.html">
            
                    
                    Upgrading
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.4.1" data-path="pre_upgrade_tasks.html">
            
                <a href="pre_upgrade_tasks.html">
            
                    
                    Pre-Upgrade Tasks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.2" data-path="upgrade_appliance.html">
            
                <a href="upgrade_appliance.html">
            
                    
                    Upgrade the Appliance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.3" data-path="upgrade_vch.html">
            
                <a href="upgrade_vch.html">
            
                    
                    Upgrade VCHs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.4.3.1" data-path="upgrade_vch_options.html">
            
                <a href="upgrade_vch_options.html">
            
                    
                    VCH Upgrade Options
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.4.4" data-path="upgrade_h5_plugin_windows.html">
            
                <a href="upgrade_h5_plugin_windows.html">
            
                    
                    Upgrade Plug-In on Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4.5" data-path="upgrade_h5_plugin_vcsa.html">
            
                <a href="upgrade_h5_plugin_vcsa.html">
            
                    
                    Upgrade Plug-In VCSA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="manage_appliance.html">
            
                <a href="manage_appliance.html">
            
                    
                    Managing the Appliance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.5.1" data-path="reconfigure_appliance.html">
            
                <a href="reconfigure_appliance.html">
            
                    
                    Reconfigure the Appliance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5.2" data-path="reinitialize_appliance.html">
            
                <a href="reinitialize_appliance.html">
            
                    
                    Reinitialize the Appliance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.5.2.1" data-path="retag_appliance.html">
            
                <a href="retag_appliance.html">
            
                    
                    Re-Tag the Appliance
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.5.3" data-path="manual_register_psc.html">
            
                <a href="manual_register_psc.html">
            
                    
                    Update PSC Registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5.4" data-path="service_status.html">
            
                <a href="service_status.html">
            
                    
                    Check Service Status
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5.5" data-path="restart_services.html">
            
                <a href="restart_services.html">
            
                    
                    Restart Services
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="backup_vic.html">
            
                <a href="backup_vic.html">
            
                    
                    Backup and Restore
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.6.1" data-path="backup_vic_appliance.html">
            
                <a href="backup_vic_appliance.html">
            
                    
                    Appliance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.6.2" data-path="backup_vch.html">
            
                <a href="backup_vch.html">
            
                    
                    VCHs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.6.3" data-path="backup_volumes.html">
            
                <a href="backup_volumes.html">
            
                    
                    Container Volumes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.6.3.1" data-path="backup_vmdk.html">
            
                <a href="backup_vmdk.html">
            
                    
                    Backing Up VMDK Volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.6.3.2" data-path="restore_vmdk.html">
            
                <a href="restore_vmdk.html">
            
                    
                    Restoring VMDK Volumes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="uninstall_vic.html">
            
                <a href="uninstall_vic.html">
            
                    
                    Uninstall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8" data-path="troubleshoot_vic.html">
            
                <a href="troubleshoot_vic.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.8.1" data-path="appliance_logs.html">
            
                <a href="appliance_logs.html">
            
                    
                    Access and Configure Appliance Logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.2" data-path="log_bundles.html">
            
                <a href="log_bundles.html">
            
                    
                    Access VCH Logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.3" data-path="vch_install_packages.html">
            
                <a href="vch_install_packages.html">
            
                    
                    Install Packages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.8.3.1" data-path="vch_mount_nfsshare.html">
            
                <a href="vch_mount_nfsshare.html">
            
                    
                    Mount an NFS Share Point
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.8.4" data-path="ts_vch_deployment_timeout.html">
            
                <a href="ts_vch_deployment_timeout.html">
            
                    
                    VCH Deployment Times Out
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.5" data-path="ts_ovf_error.html">
            
                <a href="ts_ovf_error.html">
            
                    
                    Appliance OVF Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.6" data-path="ts_recover_password.html">
            
                <a href="ts_recover_password.html">
            
                    
                    Recover Appliance Password
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.7" data-path="ts_thumbprint_error.html">
            
                <a href="ts_thumbprint_error.html">
            
                    
                    Certificate Verification Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.8" data-path="ts_cert_error.html">
            
                <a href="ts_cert_error.html">
            
                    
                    Browser Rejects Certificates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.9" data-path="ts_cli_argument_error.html">
            
                <a href="ts_cli_argument_error.html">
            
                    
                    Missing Common Name Error Even When TLS Options Are Specified Correctly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.10" data-path="ts_firewall_error.html">
            
                <a href="ts_firewall_error.html">
            
                    
                    Firewall Validation Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.11" data-path="ts_cname_mismatch.html">
            
                <a href="ts_cname_mismatch.html">
            
                    
                    Certificate cname Mismatch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.12" data-path="ts_docker_api_check_error.html">
            
                <a href="ts_docker_api_check_error.html">
            
                    
                    Docker API Endpoint Check Failed Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.13" data-path="ts_datastore_access_error.html">
            
                <a href="ts_datastore_access_error.html">
            
                    
                    No Single Host Can Access All Datastores
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.14" data-path="ts_plugin_script_fails.html">
            
                <a href="ts_plugin_script_fails.html">
            
                    
                    Plug-In Scripts Fail
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.15" data-path="ts_ui_not_appearing.html">
            
                <a href="ts_ui_not_appearing.html">
            
                    
                    Plug-In Does Not Appear
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.16" data-path="ts_no_access_to_vic_services.html">
            
                <a href="ts_no_access_to_vic_services.html">
            
                    
                    Some Users Cannot Access Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.17" data-path="ts_delete_inspect_error.html">
            
                <a href="ts_delete_inspect_error.html">
            
                    
                    Deleting or Inspecting a VCH Fails
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.18" data-path="ts_clock_skew.html">
            
                <a href="ts_clock_skew.html">
            
                    
                    Certificate and PSC Token Errors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.19" data-path="ts_appliance_password_refused.html">
            
                <a href="ts_appliance_password_refused.html">
            
                    
                    Appliance VM Password Refused
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.20" data-path="ts_volume_store_error.html">
            
                <a href="ts_volume_store_error.html">
            
                    
                    Default Volume Store Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.8.21" data-path="ts_dockerlogin_error.html">
            
                <a href="ts_dockerlogin_error.html">
            
                    
                    Docker Login Fails
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.9" data-path="security_reference.html">
            
                <a href="security_reference.html">
            
                    
                    Security Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.9.1" data-path="vic_cert_reference.html">
            
                <a href="vic_cert_reference.html">
            
                    
                    Certificate Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.9.2" data-path="obtain_appliance_certs.html">
            
                <a href="obtain_appliance_certs.html">
            
                    
                    Obtain Appliance Certificates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../vic_cloud_admin/">
            
                <a href="../vic_cloud_admin/">
            
                    
                    Configure and Manage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../vic_cloud_admin/logging_in_mp.html">
            
                <a href="../vic_cloud_admin/logging_in_mp.html">
            
                    
                    Logging in to the Management Portal
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1.1" data-path="../vic_cloud_admin/trust_vic_certs.html">
            
                <a href="../vic_cloud_admin/trust_vic_certs.html">
            
                    
                    Verify and Trust Certificates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../vic_cloud_admin/configure_system.html">
            
                <a href="../vic_cloud_admin/configure_system.html">
            
                    
                    Configure System Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../vic_cloud_admin/add_cloud_admins.html">
            
                <a href="../vic_cloud_admin/add_cloud_admins.html">
            
                    
                    Add Cloud Administrators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../vic_cloud_admin/create_projects.html">
            
                <a href="../vic_cloud_admin/create_projects.html">
            
                    
                    Create a Project
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.4.1" data-path="../vic_cloud_admin/manage_projects.html">
            
                <a href="../vic_cloud_admin/manage_projects.html">
            
                    
                    Manage Projects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4.2" data-path="../vic_cloud_admin/access_project_logs.html">
            
                <a href="../vic_cloud_admin/access_project_logs.html">
            
                    
                    Access Project Logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4.3" data-path="../vic_cloud_admin/manage_repository_registry.html">
            
                <a href="../vic_cloud_admin/manage_repository_registry.html">
            
                    
                    Manage Repositories
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../vic_cloud_admin/add_users.html">
            
                <a href="../vic_cloud_admin/add_users.html">
            
                    
                    Add Viewers, Developers, or DevOps Administrators to Projects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="../vic_cloud_admin/vchs_and_mgmt_portal.html">
            
                <a href="../vic_cloud_admin/vchs_and_mgmt_portal.html">
            
                    
                    Add VCHs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.6.1" data-path="../vic_cloud_admin/add_vch_fullTLS_in_portal.html">
            
                <a href="../vic_cloud_admin/add_vch_fullTLS_in_portal.html">
            
                    
                    Full TLS Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6.2" data-path="../vic_cloud_admin/add_vch_serversideTLS_in_portal.html">
            
                <a href="../vic_cloud_admin/add_vch_serversideTLS_in_portal.html">
            
                    
                    Server-Side Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6.3" data-path="../vic_cloud_admin/add_vch_noTLS_in_portal.html">
            
                <a href="../vic_cloud_admin/add_vch_noTLS_in_portal.html">
            
                    
                    No Authentication
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.7" data-path="../vic_cloud_admin/add_repos_in_portal.html">
            
                <a href="../vic_cloud_admin/add_repos_in_portal.html">
            
                    
                    Add Registries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.8" data-path="../vic_cloud_admin/replicating_images.html">
            
                <a href="../vic_cloud_admin/replicating_images.html">
            
                    
                    Replicating Images
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.8.1" data-path="../vic_cloud_admin/create_replication_endpoints.html">
            
                <a href="../vic_cloud_admin/create_replication_endpoints.html">
            
                    
                    Create Replication Endpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.8.2" data-path="../vic_cloud_admin/create_replication_rules.html">
            
                <a href="../vic_cloud_admin/create_replication_rules.html">
            
                    
                    Create Replication Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.8.3" data-path="../vic_cloud_admin/manage_replication_endpoints.html">
            
                <a href="../vic_cloud_admin/manage_replication_endpoints.html">
            
                    
                    Manage Replication Endpoints
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.9" data-path="../vic_cloud_admin/vulnerability_scanning.html">
            
                <a href="../vic_cloud_admin/vulnerability_scanning.html">
            
                    
                    Vulnerability Scanning
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.9.1" data-path="../vic_cloud_admin/configure_scheduled_vulnerability.html">
            
                <a href="../vic_cloud_admin/configure_scheduled_vulnerability.html">
            
                    
                    Configure Scheduled Vulnerability Scan on All Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.9.2" data-path="../vic_cloud_admin/configure_vulnerability_scanning_per_project.html">
            
                <a href="../vic_cloud_admin/configure_vulnerability_scanning_per_project.html">
            
                    
                    Configure Vulnerability Scanning on a Per-Project Level
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.9.3" data-path="../vic_cloud_admin/perform_vulnerability_scan_single_image.html">
            
                <a href="../vic_cloud_admin/perform_vulnerability_scan_single_image.html">
            
                    
                    Perform a Vulnerability Scan on a Single Image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../vic_app_dev/">
            
                <a href="../vic_app_dev/">
            
                    
                    Develop Container Apps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../vic_app_dev/run_dev_project.html">
            
                <a href="../vic_app_dev/run_dev_project.html">
            
                    
                    Running Development Projects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1.1" data-path="../vic_app_dev/create_network.html">
            
                <a href="../vic_app_dev/create_network.html">
            
                    
                    Create New Networks for Provisioning Containers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.1.2" data-path="../vic_app_dev/provision_containers_portal.html">
            
                <a href="../vic_app_dev/provision_containers_portal.html">
            
                    
                    Provisioning Container VMs in the Management Portal
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1.2.1" data-path="../vic_app_dev/configuring_links.html">
            
                <a href="../vic_app_dev/configuring_links.html">
            
                    
                    Configuring Links for Templates and Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.1.2.2" data-path="../vic_app_dev/configuring_health_checks.html">
            
                <a href="../vic_app_dev/configuring_health_checks.html">
            
                    
                    Configuring Health Checks for Templates and Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.1.2.3" data-path="../vic_app_dev/configuring_clusters.html">
            
                <a href="../vic_app_dev/configuring_clusters.html">
            
                    
                    Configuring Cluster Size and Scale
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../vic_app_dev/container_operations.html">
            
                <a href="../vic_app_dev/container_operations.html">
            
                    
                    Supported Docker Commands
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.2.1" data-path="../vic_app_dev/docker_compose_file_options.html">
            
                <a href="../vic_app_dev/docker_compose_file_options.html">
            
                    
                    Supported Docker Compose File Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2.2" data-path="../vic_app_dev/dockerfile_support.html">
            
                <a href="../vic_app_dev/dockerfile_support.html">
            
                    
                    Supported Dockerfile Instructions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../vic_app_dev/container_limitations.html">
            
                <a href="../vic_app_dev/container_limitations.html">
            
                    
                    Use and Limitations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../vic_app_dev/obtain_vch.html">
            
                <a href="../vic_app_dev/obtain_vch.html">
            
                    
                    Obtain a VCH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="../vic_app_dev/configure_docker_client.html">
            
                <a href="../vic_app_dev/configure_docker_client.html">
            
                    
                    Configure the Docker Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" data-path="../vic_app_dev/build_push_images.html">
            
                <a href="../vic_app_dev/build_push_images.html">
            
                    
                    Building and Pushing Images
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.6.1" data-path="../vic_app_dev/photon_cert_custom.html">
            
                <a href="../vic_app_dev/photon_cert_custom.html">
            
                    
                    Add Certificate to Custom Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6.2" data-path="../vic_app_dev/photon_cert_manual.html">
            
                <a href="../vic_app_dev/photon_cert_manual.html">
            
                    
                    Manually Add Certificate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6.3" data-path="../vic_app_dev/test_photon.html">
            
                <a href="../vic_app_dev/test_photon.html">
            
                    
                    Build, Push, and Pull and Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6.4" data-path="../vic_app_dev/dchphoton_options.html">
            
                <a href="../vic_app_dev/dchphoton_options.html">
            
                    
                    Advanced dch-photon Deployment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.7" data-path="../vic_app_dev/using_volumes_with_vic.html">
            
                <a href="../vic_app_dev/using_volumes_with_vic.html">
            
                    
                    Using Volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.8" data-path="../vic_app_dev/network_use_cases.html">
            
                <a href="../vic_app_dev/network_use_cases.html">
            
                    
                    Container Networking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9" data-path="../vic_app_dev/creating_containerized_app_with_vic.html">
            
                <a href="../vic_app_dev/creating_containerized_app_with_vic.html">
            
                    
                    Creating a Containerized App
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.9.1" data-path="../vic_app_dev/putting_apps_into_production.html">
            
                <a href="../vic_app_dev/putting_apps_into_production.html">
            
                    
                    Putting Apps into Production
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9.2" data-path="../vic_app_dev/deploy_single_containervm.html">
            
                <a href="../vic_app_dev/deploy_single_containervm.html">
            
                    
                    Deploy a Single Container VM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9.3" data-path="../vic_app_dev/deploy_multiple_docker_compose.html">
            
                <a href="../vic_app_dev/deploy_multiple_docker_compose.html">
            
                    
                    Deploy Container VMs with Compose
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="feedback.html">
            
                <a href="feedback.html">
            
                    
                    Send Doc Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../pdf.html">
            
                <a href="../pdf.html">
            
                    
                    Download PDF
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >VCH Certificate Options</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="virtual-container-host-certificate-options">Virtual Container Host Certificate Options</h1>
<p>This topic describes the different certificate options that you use when deploying virtual container hosts (VCHs) that implement verification of client certificates. It provides examples of how to combine the options to achieve different configurations.</p>
<p>For information about how to deploy VCHs that do not verify  connections from clients, see <a href="tls_unrestricted.html">Disable Client Authentication</a>.</p>
<ul>
<li><a href="#auto">Automatically Generated Certificates</a></li>
<li><a href="#custom">Custom Certificates</a></li>
<li><a href="#connect">How to Connect to VCHs with Client Verification</a></li>
<li><a href="#options">Options</a><ul>
<li><a href="#client">Client Certificates</a><ul>
<li><a href="#ca-pem">Select CA Certificate PEM File</a></li>
</ul>
</li>
<li><a href="#server">Server Certificates</a><ul>
<li><a href="#tls-cname">Common Name (CN)</a></li>
<li><a href="#org">Organization (O)</a></li>
<li><a href="#keysize">Certificate Key Size</a></li>
<li><a href="#cert-path">Certificate Path</a></li>
<li><a href="#server-cert">Server Certificate</a></li>
<li><a href="#server-key">Server Private Key</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#full-auto">Automatically Generate Server, Client, and CA Certificates</a></li>
<li><a href="#auto-server">Automatically Generate Server Certificates and Use a Custom CA for Client Certificates</a></li>
<li><a href="#all-custom">Use a Custom Server Certificate and a Custom CA for Client Certificates</a></li>
<li><a href="#custom-server-auto-client-ca">Use a Custom Server Certificate and Automatically Generate a CA for Client Certificates</a></li>
</ul>
</li>
<li><a href="#whatnext">What to Do Next</a></li>
</ul>
<h2 id="automatically-generated-certificates-">Automatically Generated Certificates <a id="auto"></a></h2>
<p>As a convenience, vSphere Integrated Containers Engine provides the option of automatically generating a server certificate for the Docker API endpoint in the VCH. The generated certificates are functional, but they do not allow for fine control over aspects such as expiration, intermediate certificate authorities, and so on. To use more finely configured certificates, use custom server certificates.</p>
<p>VCHs accept client certificates if they are signed by a CA that you  can optionally provide to the VCH. Alternatively, you can configure a VCH so that vSphere Integrated Containers Engine creates a Certificate Authority (CA) certificate that it uses to automatically generate and sign a single client certificate.</p>
<p><strong>NOTE</strong>: The Create Virtual Container Host wizard in the vSphere Client does not support automatically generated CA or client certificates. To use automatically generated CA and client certificates, you must use the <code>vic-machine</code> CLI utility to create the VCH.</p>
<h2 id="custom-certificates-">Custom Certificates <a id="custom"></a></h2>
<p>To exercise fine control over the certificates that VCHs use, you must obtain or generate custom certificates yourself before you deploy a VCH. You can create a VCH that uses a custom server certificate, for example  a server certificate that has been signed by Verisign or another public root. For information about how to create custom certificates for use with Docker, see <a href="https://docs.docker.com/engine/security/https/" target="_blank">Protect the Docker daemon socket</a> in the Docker documentation. </p>
<p>Custom certificates must meet the following requirements:</p>
<ul>
<li>You must use an X.509 server certificate.</li>
<li>Server certificates should have the following certificate usages:<ul>
<li><code>KeyEncipherment</code></li>
<li><code>DigitalSignature</code></li>
<li><code>KeyAgreement</code></li>
<li><code>ServerAuth</code></li>
</ul>
</li>
<li>Server keys must not be encrypted.</li>
</ul>
<p><strong>IMPORTANT</strong>: PKCS#7 certificates do not work with <code>vic-machine</code>. For information about how to convert certificates to the correct format, see <a href="vic_cert_reference.html#convertcerts">Converting Certificates for Use with vSphere Integrated Containers Engine</a>. </p>
<p>You can deploy a VCH to use custom certificates in combination with auto-generated certificates, as demonstrated in the <a href="#examples">Examples</a>.</p>
<h2 id="how-to-connect-to-vchs-with-client-verification-">How to Connect to VCHs with Client Verification <a id="connect"></a></h2>
<p>After deployment, the Docker API for VCHs that implement client verification is accessible at https://<i>vch_dnsname</i>.example.org:2376.</p>
<p>You must provide the <code>cert.pem</code>, <code>key.pem</code>, and <code>ca.pem</code> files to all container developers who need to connect Docker clients to the VCHs.</p>
<ul>
<li>If you deploy VCHs by using the Create Virtual Container Host wizard, you must create the <code>cert.pem</code> and <code>key.pem</code> files manually, using the custom <code>ca.pem</code> file to sign them. </li>
<li>If you deploy VCHs by using <code>vic-machine</code>, you can either use the auto-generated client certificate, or by use a client certificate that you create and sign manually.</li>
</ul>
<p>For example, you can access information about a VCH with client verification by running the following command in the Docker client:</p>
<pre>docker -H <i>vch_dnsname</i>.example.org.example.org:2376 
--tlsverify 
--tlscacert=<i>path_to_cert_folder</i>/ca.pem
--tlscert=<i>path_to_cert_folder</i>/cert.pem
--tlskey=<i>path_to_cert_folder</i>/key.pem
info</pre>

<h1 id="options-">Options <a id="options"></a></h1>
<p>The following sections each correspond to an entry in the Security page of the Create Virtual Container Host wizard. Each section also includes a description of the corresponding <code>vic-machine create</code> option. </p>
<p>Certain options in this section are exposed in the <code>vic-machine create</code> help if you run <code>vic-machine create --extended-help</code>, or <code>vic-machine create -x</code>.</p>
<h2 id="client-certificates-">Client Certificates <a id="client"></a></h2>
<p>You upload an existing CA for vSphere Integrated Containers Engine to use to sign automatically generated client certificates. If you use <code>vic-machine</code>, you can opt for vSphere Integrated Containers Engine to automatically generate a CA. </p>
<p><strong>NOTE</strong>: In vSphere Integrated Containers 1.3.0 the client certificate options appear at the bottom of the Security page of the Create Virtual Container Host wizard. From version 1.3.1 onwards, they appear at the top of the page.</p>
<h3 id="select-ca-certificate-pem-file-">Select CA Certificate PEM File <a id="ca-pem"></a></h3>
<p>The public portion of a CA that vSphere Integrated Containers Engine uses to validate client certificates. The client certificates are used as credentials for access to the Docker API running in the VCH. This does not need to be the same CA as you use to sign the server certificate, if you use a custom CA to sign server certificates. You can specify multiple CAs.</p>
<h4 id="create-vch-wizard">Create VCH Wizard</h4>
<p>If you use the Create Virtual Container Host wizard and you do not disable client verification, it is <strong>mandatory</strong> to upload at least one custom CA file. The Create Virtual Container Host wizard does not support automatic generation of CA files.</p>
<ol>
<li>Leave the <strong>Client Certificates</strong> switch in the green ON position, to enable verification of client certificates.</li>
<li>For <strong>Select the X.509 certificate pem</strong> file, click <strong>Select</strong> and navigate to an existing <code>ca.pem</code> file for the custom CA that you use to sign client certificates.</li>
<li>Optionally click <strong>Select</strong> again to upload additional CAs.</li>
</ol>
<h4 id="vic-machine-option">vic-machine Option</h4>
<p><code>--tls-ca</code>, <code>--ca</code></p>
<p>Specify the path to an existing <code>ca.pem</code> file for the custom CA that you use to sign client certificates. Include the filename in the path. You can specify <code>--tls-ca</code> multiple times. If not specified, and if no CA exists in the certificate folder on the machine on which you run <code>vic-machine</code>, <code>vic-machine create</code> automatically generates a CA.</p>
<pre>--tls-ca <i>path_to_ca_file</i></pre>

<h2 id="server-certificates-">Server Certificates <a id="server"></a></h2>
<p>You can opt for vSphere Integrated Containers Engine to automatically generate server certificates, or you can upload existing custom certificates.</p>
<h3 id="common-name-cn-">Common Name (CN) <a id="tls-cname"></a></h3>
<p>The IP address, FQDN, or a domain wildcard, for the client system or systems that connect to this VCH, to embed in an automatically generated server certificate. </p>
<p><strong>NOTE</strong>: Specifying an FQDN or wildcard assumes that there is a DHCP server offering IP addresses on the client network, and that those addresses have corresponding DNS entries such as <code>dhcp-a-b-c.example.com</code>.</p>
<h4 id="create-vch-wizard">Create VCH Wizard</h4>
<ol>
<li>For <strong>Source of certificates</strong>, select the <strong>Auto-generate</strong> radio button.</li>
<li>In the <strong>Common Name (CN)</strong> text box, enter the IP address, FQDN, or a domain wildcard  for the client systems that connect to this VCH.</li>
</ol>
<h4 id="vic-machine-option">vic-machine Option</h4>
<p><code>--tls-cname</code>, no short name</p>
<p>The IP address, FQDN, or a domain wildcard, for the client system or systems that connect to this VCH. </p>
<pre>--tls-cname vch-name.example.org</pre>
<pre>--tls-cname *.example.org</pre>

<p>If you specify <code>--tls-cname</code>, <code>vic-machine create</code> performs the following actions during the deployment of the VCH:</p>
<ul>
<li>On the system on which you run <code>vic-machine</code>, checks for an existing server certificate in either a folder that has the same name as the VCH that you are deploying, or in a location that you can optionally specify in the <a href="#cert-path"><code>--tls-cert-path</code></a> option. If a valid  server certificate exists that includes the same Common Name attribute as the one that you specify in <code>--tls-cname</code>, <code>vic-machine create</code> reuses that certificate. Reusing certificates allows you to delete and recreate VCHs for which you have already distributed the client certificates to container developers.</li>
<li>If certificates are present in the certificate folder that include a different Common Name attribute to the one that you specify in <code>--tls-cname</code>, <code>vic-machine create</code> fails.  </li>
<li>If a certificate folder does not exist, <code>vic-machine create</code> creates a folder with the same name as the VCH in the location from which you run <code>vic-machine</code>, or creates a folder in a location that you specify in the <code>--tls-cert-path</code> option. </li>
<li>If valid certificates do not already exist, <code>vic-machine create</code> automatically creates a CA and uses that CA to sign and create a client certificate and to sign the server certificate. The CA and client certificate allow the server to confirm the identity of the client. The <code>vic-machine create</code> command creates the following CA, server, and client certificate/key pairs in the certificate folder:<ul>
<li><code>ca.pem</code></li>
<li><code>ca-key.pem</code></li>
<li><code>cert.pem</code> </li>
<li><code>key.pem</code></li>
<li><code>server-cert.pem</code></li>
<li><code>server-key.pem</code></li>
</ul>
</li>
<li>Creates a browser-friendly PFX client certificate, <code>cert.pfx</code>, to use to authenticate connections to the VCH Admin portal for the VCH.</li>
</ul>
<p><strong>NOTE</strong>: The folder and file permissions for the generated certificate and key are readable only by the user who created them.</p>
<p>Running <code>vic-machine create</code> with the <code>--tls-cname</code> option also creates an environment file named <code>vch_name.env</code>, that contains Docker environment variables that container developers can use to configure their Docker client environment:</p>
<ul>
<li>Activate TLS client verification.<pre>DOCKER_TLS_VERIFY=1</pre></li>
<li>The path to the client certificates.<pre>DOCKER_CERT_PATH=<i>path_to_certs</i></pre></li>
<li>The address of the VCH.<pre>DOCKER_HOST=<i>vch_address</i>:2376</pre></li>
</ul>
<p>You must provide copies of the generated <code>cert.pem</code> and <code>key.pem</code> client certificate files and the environment file to container developers so that they can connect Docker clients to the VCH. If you deploy the VCH with the <code>--tls-cname</code> option, container developers must configure the client appropriately with one of the following options:</p>
<ul>
<li>By using the <code>tlsverify</code>, <code>tlscert</code>, and <code>tlskey</code> options in Docker commands, adding <code>tlscacert</code> if a custom CA was used to sign the server certificate.</li>
<li>By setting the <code>DOCKER_CERT_PATH=/path/to/client/cert.pem</code> and <code>DOCKER_TLS_VERIFY=1</code> Docker environment variables. </li>
</ul>
<p>For more information about how to connect Docker clients to VCHs, see <a href="../vic_app_dev/configure_docker_client.html">Configure the Docker Client for Use with vSphere Integrated Containers</a>.</p>
<p><strong>NOTE</strong>: If you do not specify <code>--tls-cname</code> but you do set a static address for the VCH on the client network interface, <code>vic-machine create</code> uses that  address for the Common Name, with the same results as if you had specified <code>--tls-cname</code>. For information about setting a static IP address on the client network, see <a href="client_network.html">Configure the Client Network</a>.</p>
<h3 id="organization-o-">Organization (O) <a id="org"></a></h3>
<p>A list of identifiers to record in automatically generated server certificates, to add basic descriptive information to the server certificate. This information is visible to clients if they inspect the server certificate. </p>
<h4 id="create-vch-wizard">Create VCH Wizard</h4>
<ol>
<li>For <strong>Source of certificates</strong>, select the <strong>Auto-generate</strong> radio button.</li>
<li>In the <strong>Organization (O)</strong> text box, leave the default setting of the VCH name, or enter a different organization identifier.</li>
</ol>
<h4 id="vic-machine-option">vic-machine Option</h4>
<p><code>--organization</code>, no short name</p>
<p>If you specify <code>--tls-cname</code>, you can optionally specify <code>--organization</code>. If not specified, <code>vic-machine create</code> uses the name of the VCH as the <code>organization</code> value.</p>
<p><strong>NOTE</strong>: If you specify a static IP address on the client network, the <code>client-ip-address</code> is used for <code>CommonName</code> but not  for  <code>Organization</code>.</p>
<pre>--organization <i>my_organization_name</i></pre>

<h3 id="certificate-key-size-">Certificate Key Size <a id="keysize"></a></h3>
<p>The size of the key for vSphere Integrated Containers Engine to use when it creates auto-generated certificates. It is not recommended to use key sizes of less than the default of 2048 bits. </p>
<h4 id="create-vch-wizard">Create VCH Wizard</h4>
<ol>
<li>For <strong>Source of certificates</strong>, select the <strong>Auto-generate</strong> radio button.</li>
<li>In the <strong>Certificate key size</strong> text box, leave the default setting of 2048 bits, or enter a higher value.</li>
</ol>
<h4 id="vic-machine-option">vic-machine Option</h4>
<p><code>--certificate-key-size</code>, <code>--ksz</code></p>
<p>If you specify <code>--tls-cname</code>, you can optionally specify <code>--certificate-key-size</code>. If not specified, <code>vic-machine create</code> creates keys with default size of 2048 bits.</p>
<pre>--certificate-key-size 3072</pre>

<h3 id="certificate-path-">Certificate Path <a id="cert-path"></a></h3>
<p>If you are using the Create Virtual Container Host wizard, the certificate path setting is not applicable.</p>
<h4 id="vic-machine-option">vic-machine Option</h4>
<p><code>--tls-cert-path</code>, none</p>
<p>By default <code>--tls-cert-path</code> is a folder in the current directory on the system on which you are running <code>vic-machine</code>. The certificate folder takes its name from the VCH name that you specify in the <code>--name</code> option. If specified, <code>vic-machine create</code> checks in the <code>--tls-cert-path</code> folder for existing certificates with the standard names and uses those certificates if they are present:</p>
<ul>
<li><code>server-cert.pem</code> </li>
<li><code>server-key.pem</code></li>
<li><code>ca.pem</code></li>
</ul>
<p>If <code>vic-machine create</code> does not find existing certificates with the standard names in the folder you specify in <code>--tls-cert-path</code>, or if you do not specify certificates directly by using the <code>--tls-server-cert</code>, <code>--tls-server-key</code>, and <code>--tls-ca</code> options, <code>vic-machine create</code> automatically generates certificates. Automatically generated certificates are saved in the <code>--tls-cert-path</code> folder with the standard names. <code>vic-machine create</code> additionally generates other certificates:</p>
<ul>
<li><code>cert.pem</code> and <code>key.pem</code> for client certificates, if required.</li>
<li><code>ca-key.pem</code>, the private key for the certificate authority. </li>
</ul>
<p>If the folder that you specify in <code>--tls-cert-path</code> does not exist, <code>vic-machine create</code> creates it. </p>
<pre>--tls-cert-path &apos;<i>path_to_certificate_folder</i>&apos;
</pre>

<h3 id="server-certificate-">Server Certificate <a id="server-cert"></a></h3>
<p>A custom X.509 server certificate for the VCH if you do not use  an automatically generated server certificate. This certificate identifies the VCH endpoint VM both to Docker clients and to browsers that connect to the VCH Admin portal. For information about the requirements for server certificates, see <a href="#custom">Custom Certificates</a> above.</p>
<h4 id="create-vch-wizard">Create VCH Wizard</h4>
<ol>
<li>For <strong>Source of certificates</strong>, select the <strong>Existing</strong> radio button.</li>
<li>For <strong>Server certificate</strong>, click <strong>Select</strong> and navigate to an existing <code>server-cert.pem</code> file.</li>
</ol>
<h4 id="vic-machine-option">vic-machine Option</h4>
<p><code>--tls-server-cert</code>, no short name</p>
<p>This option is <strong>mandatory</strong> if you use custom server certificates, rather than auto-generated certificates. If you do not use  an automatically generated server certificate, use this option in combination with the <code>--tls-server-key</code> option, that provides the path to the private key file for the custom server certificate. Include the name of the certificate file in the path.</p>
<p>If you provide a custom server certificate by using the <code>--tls-server-cert</code> option, you can use <code>--tls-cname</code> as a sanity check to ensure that the certificate is valid for the deployment.</p>
<pre>--tls-server-cert <i>path_to_certificate_file</i>/<i>certificate_file_name</i>.pem</pre> 

<h3 id="server-private-key-">Server Private Key <a id="server-key"></a></h3>
<p>The private key file to use with a custom server certificate. This option is mandatory if you specify a custom X.509 server certificate. Include the name of the key file in the path. </p>
<p><strong>IMPORTANT</strong>: The key must not be encrypted.</p>
<h4 id="create-vch-wizard">Create VCH Wizard</h4>
<ol>
<li>For <strong>Source of certificates</strong>, select the <strong>Existing</strong> radio button.</li>
<li>For <strong>Server private key</strong>, click <strong>Select</strong> and navigate to an existing <code>server-key.pem</code> file.</li>
</ol>
<h4 id="vic-machine-option">vic-machine Option</h4>
<p><code>--tls-server-key</code>, no short name</p>
<p>Use this option in combination with the <code>--tls-server-cert</code> option. Include the name of the key file in the path.</p>
<pre>--tls-server-key <i>path_to_key_file</i>/<i>key_file_name</i>.pem
</pre> 

<h1 id="examples-">Examples <a id="examples"></a></h1>
<p>This section provides examples of the combinations of options to use in in the <strong>Docker API Access</strong> tab in the Security page of the Create Virtual Container Host wizard and in <code>vic-machine create</code>, for the different security configurations that you can implement when using automatically generated and custom certificates.</p>
<ul>
<li><a href="#full-auto">Automatically Generate Server, Client, and CA Certificates</a></li>
<li><a href="#auto-server">Automatically Generate Server Certificates and Use Custom CA and Client Certificates</a></li>
<li><a href="#all-custom">Use Custom Server and Client Certificates and a Custom CA</a></li>
<li><a href="#custom-server-auto-client-ca">Use a Custom Server Certificate and Automatically Generate a CA and Client Certificate</a></li>
</ul>
<h2 id="automatically-generate-server-client-and-ca-certificates-">Automatically Generate Server, Client, and CA Certificates <a id="full-auto"></a></h2>
<p>This example deploys a VCH with the following security configuration: </p>
<ul>
<li>Uses an automatically generated server certificate</li>
<li>Implements client authentication with an automatically generated client certificate</li>
<li>Uses an automatically generated CA to sign the client and server certificates </li>
</ul>
<h3 id="create-vch-wizard">Create VCH Wizard</h3>
<p>The Create Virtual Container Host wizard does not support automatic generation of CAs and client certificates.</p>
<h3 id="vic-machine-command"><code>vic-machine</code> Command</h3>
<p>This example <code>vic-machine create</code> command deploys a VCH with the following configuration:</p>
<ul>
<li>Provides a wildcard domain, <code>*.example.org</code>, for the client systems that will connect to this VCH, for use as the Common Name in the  server certificate. This assumes that there is a DHCP server offering IP addresses on VM Network, and that those addresses have corresponding DNS entries such as <code>dhcp-a-b-c.example.com</code>.</li>
<li>Specifies an empty folder in which to save the auto-generated certificates. </li>
<li>Sets the certificate&apos;s <code>organization</code> (<code>O</code>) field to <code>My Organization</code>.</li>
<li>Generates a certificate with a key size of 3072 bits.</li>
</ul>
<pre>vic-machine-<i>operating_system</i> create
--target &apos;Administrator@vsphere.local&apos;:<i>password</i>@<i>vcenter_server_address</i>/dc1
--compute-resource cluster1
--image-store datastore1
--bridge-network vch1-bridge
--tls-cname *.example.org
--tls-cert-path <i>path_to_cert_folder</i>
--organization &apos;My Organization&apos;
--certificate-key-size 3072
--thumbprint <i>certificate_thumbprint</i>
--name vch1
</pre>

<h3 id="result">Result</h3>
<p>When you run this command, <code>vic-machine create</code> performs the following operations:</p>
<ul>
<li>Checks for existing certificates in the folder that you specified in <code>--tls-cert-path</code>.</li>
<li>No existing <code>server-cert.pem</code>, <code>server-key.pem</code>, or <code>ca.pem</code> certificates are present in the folder, so <code>vic-machine</code> automatically generates them and saves them in the certificate folder.</li>
<li>Automatically generates a client certificate and saves it in the  certificate folder.</li>
<li>Uses the automatically generated CA to sign the server and client certificates.</li>
<li>Automatically generates a <code>.pfx</code> certificate to allow access to the VCH Admin portal for this VCH.</li>
<li>Generates an <code>env</code> file that includes the environment variables with which to configure Docker clients that connect to this VCH.</li>
</ul>
<h2 id="automatically-generate-server-certificates-and-use-a-custom-ca-for-client-certificates-">Automatically Generate Server Certificates and Use a Custom CA for Client Certificates <a id="auto-server"></a></h2>
<p>This section provides examples of using both the Create Virtual Container Host wizard and <code>vic-machine create</code> to deploy a VCH with the following security configuration: </p>
<ul>
<li>Uses an automatically generated server certificate.</li>
<li>Uploads the CA certificate for a custom CA that you use to sign custom client certificates.</li>
<li>Implements client authentication with a custom client certificate.</li>
</ul>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Create or obtain the <code>ca.pem</code> file for the CA that you use to sign client certificates.</li>
<li>Use the custom CA to create and sign client certificates.</li>
</ul>
<h3 id="create-vch-wizard">Create VCH Wizard</h3>
<ol>
<li>Leave the <strong>Client Certificates</strong> switch in the green ON position, to enable verification of client certificates.</li>
<li>Click <strong>Select</strong> and navigate to an existing <code>ca.pem</code> file for the custom CA that you use to sign client certificates.</li>
<li>Optionally click <strong>Select</strong> again to upload additional CAs.</li>
<li>Under Server Certificates, select the <strong>Auto-generate</strong> radio button.</li>
<li>In the <strong>Common Name (CN)</strong> text box, enter the IP address, FQDN, or a domain wildcard for the client systems that connect to this VCH.</li>
<li>In the <strong>Organization (O)</strong> text box, leave the default setting of the VCH name, or enter a different organization identifier.</li>
<li>In the <strong>Certificate key size</strong> text box, leave the default setting of 2048 bits, or enter a higher value.</li>
</ol>
<h3 id="vic-machine-command"><code>vic-machine</code> Command</h3>
<p>This example <code>vic-machine create</code> command deploys a VCH with the following configuration:</p>
<ul>
<li>Provides a wildcard domain <code>*.example.org</code> as the FQDN for the client systems that connect to the VCH, for use as the Common Name in the  automatically generated server certificate.</li>
<li>Specifies the folder in which to save auto-generated certificates in the <code>--tls-cert-path</code> option. </li>
<li>Sets the certificate&apos;s <code>organization</code> (<code>O</code>) field to <code>My Organization</code>.</li>
<li>Generates certificates with a key size of 3072 bits.</li>
<li>Provides the path to an existing <code>ca.pem</code> file for the CA that you use to sign client certificates.</li>
</ul>
<pre>vic-machine-<i>operating_system</i> create
--target &apos;Administrator@vsphere.local&apos;:<i>password</i>@<i>vcenter_server_address</i>/dc1
--compute-resource cluster1
--image-store datastore1
--bridge-network vch1-bridge
--tls-cname *.example.org
--tls-cert-path <i>path_to_cert_folder</i>
--organization &apos;My Organization&apos;
--certificate-key-size 3072
--tls-ca <i>path_to_folder</i>/ca.pem
--thumbprint <i>certificate_thumbprint</i>
--name vch1
</pre>

<h3 id="result">Result</h3>
<p>When you run this command, <code>vic-machine create</code> performs the following operations:</p>
<ul>
<li>Checks for existing certificates in the folder that you specified in <code>--tls-cert-path</code>.</li>
<li>Since no existing <code>server-cert.pem</code> or <code>server-key.pem</code> certificates are present in the folder, <code>vic-machine</code> automatically generates them.</li>
<li>Automatically generates a client certificate, signs it with the custom CA, and saves it in the certificate folder. However, you can use any client certificate that is signed by the CA that you provided to the VCH.</li>
</ul>
<p>You must provide the custom <code>cert.pem</code>, <code>key.pem</code>, and <code>ca.pem</code> files to all container developers who need to connect Docker clients to this VCH.</p>
<h2 id="use-a-custom-server-certificate-and-a-custom-ca-for-client-certificates-">Use a Custom Server Certificate and a Custom CA for Client Certificates <a id="all-custom"></a></h2>
<p>This example deploys a VCH with the following security configuration: </p>
<ul>
<li>Uses a custom server certificate.</li>
<li>Implements client authentication with a custom client certificate.</li>
<li>Uses a custom CA. </li>
</ul>
<h3 id="prerequisite">Prerequisite</h3>
<p>Create or obtain server and client certificates, that you sign by  using a custom CA.</p>
<h3 id="create-vch-wizard">Create VCH Wizard</h3>
<ol>
<li>Leave the <strong>Client Certificates</strong> switch in the green ON position, to enable verification of client certificates.</li>
<li>Click <strong>Select</strong> and navigate to an existing <code>ca.pem</code> file for the custom CA that you use to sign client certificates.</li>
<li>Optionally click <strong>Select</strong> again to upload additional CAs.</li>
<li>Under Server Certificates, select the <strong>Existing</strong> radio button.</li>
<li>For <strong>Server certificate</strong>, click <strong>Select</strong> and navigate to an existing <code>server-cert.pem</code> file.</li>
<li>For <strong>Server private key</strong>, click <strong>Select</strong> and navigate to an existing <code>server-key.pem</code> file.</li>
</ol>
<h3 id="vic-machine-command"><code>vic-machine</code> Command</h3>
<p>This example <code>vic-machine create</code> command provides the paths relative to the current location of the <code>*.pem</code> files for the custom server certificate and key files, and a custom CA.</p>
<pre>vic-machine-<i>operating_system</i> create
--target &apos;Administrator@vsphere.local&apos;:<i>password</i>@<i>vcenter_server_address</i>/dc1
--compute-resource cluster1
--image-store datastore1
--bridge-network vch1-bridge
--tls-server-cert <i>path_to_folder</i>/<i>certificate_file</i>.pem
--tls-server-key <i>path_to_folder</i>/<i>key_file</i>.pem
--tls-ca <i>path_to_folder</i>/ca.pem
--name vch1
--thumbprint <i>certificate_thumbprint</i>
</pre>

<h3 id="result">Result</h3>
<p>When you run this command, <code>vic-machine create</code> performs the following operations:</p>
<ul>
<li>Uploads the custom server certificate and key to the VCH.</li>
<li>Uploads the CA to the VCH, to verify client certificates that have been signed by that CA.</li>
</ul>
<p>You must provide the custom <code>cert.pem</code>, <code>key.pem</code>, and <code>ca.pem</code> files to all container developers who need to connect Docker clients to this VCH.</p>
<h2 id="use-a-custom-server-certificate-and-automatically-generate-a-ca-and-client-certificate-">Use a Custom Server Certificate and Automatically Generate a CA and Client Certificate <a id="custom-server-auto-client-ca"></a></h2>
<p>Specifying the <code>--tls-server-cert</code> and <code>--tls-server-key</code> options for the server certificate does not affect the automatic generation of client certificates. If you specify the <a href="vch_cert_options.html#tls-cname"><code>--tls-cname</code></a> option to match the common name value of the server certificate, <code>vic-machine create</code> generates self-signed certificates for Docker client authentication and deployment of the VCH succeeds.</p>
<h3 id="prerequisite">Prerequisite</h3>
<p>Create or obtain a custom server certificate, that you sign by using a custom CA.</p>
<h3 id="create-vch-wizard">Create VCH Wizard</h3>
<p>The Create Virtual Container Host wizard does not support automatic generation of CAs and client certificates.</p>
<h3 id="vic-machine-command"><code>vic-machine</code> Command</h3>
<p>This example <code>vic-machine create</code> command deploys a VCH with the following configuration:</p>
<ul>
<li>Provides the paths relative to the current location of the <code>*.pem</code> files for the custom server certificate and key files.</li>
<li>Specifies the common name from the server certificate in the <code>--tls-cname</code> option. The <code>--tls-cname</code> option is used in this case to ensure that the auto-generated client certificate is valid for the resulting VCH, given the network configuration.</li>
</ul>
<pre>vic-machine-<i>operating_system</i> create
--target &apos;Administrator@vsphere.local&apos;:<i>password</i>@<i>vcenter_server_address</i>/dc1
--compute-resource cluster1
--image-store datastore1
--bridge-network vch1-bridge
--tls-server-cert ../some/relative/path/<i>certificate_file</i>.pem
--tls-server-key ../some/relative/path/<i>key_file</i>.pem
--tls-cname <i>cname_from_server_cert</i>
--name vch1
--thumbprint <i>certificate_thumbprint</i>
</pre>

<h3 id="result">Result</h3>
<p>When you run this command, <code>vic-machine create</code> performs the following operations:</p>
<ul>
<li>Uploads the <code>server-cert.pem</code> or <code>server-key.pem</code> to the VCH.</li>
<li>Automatically generates a CA.</li>
<li>Uses the CA to create and sign a client certificate.</li>
</ul>
<p>After deployment, the Docker API for this VCH is accessible at <a href="https://dhcp-a-b-c.example.org:2376" target="_blank">https://dhcp-a-b-c.example.org:2376</a>.</p>
<p>You must provide the automatically generated <code>cert.pem</code>, <code>key.pem</code>, and <code>ca.pem</code> file to all container developers who need to connect Docker clients to this VCH.</p>
<h1 id="what-to-do-next-">What to Do Next <a id="whatnext"></a></h1>
<p>If you are using the Create Virtual Container Host wizard, click <strong>Next</strong> to <a href="vch_registry.html">Configure Registry Access</a>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="vch_security.html" class="navigation navigation-prev " aria-label="Previous page: Security">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="tls_unrestricted.html" class="navigation navigation-next " aria-label="Next page: Disable Client Verification">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"VCH Certificate Options","level":"3.1.2.7.1","depth":4,"next":{"title":"Disable Client Verification","level":"3.1.2.7.2","depth":4,"path":"vic_vsphere_admin/tls_unrestricted.md","ref":"vic_vsphere_admin/tls_unrestricted.md","articles":[]},"previous":{"title":"Security","level":"3.1.2.7","depth":3,"path":"vic_vsphere_admin/vch_security.md","ref":"vic_vsphere_admin/vch_security.md","articles":[{"title":"VCH Certificate Options","level":"3.1.2.7.1","depth":4,"path":"vic_vsphere_admin/vch_cert_options.md","ref":"vic_vsphere_admin/vch_cert_options.md","articles":[]},{"title":"Disable Client Verification","level":"3.1.2.7.2","depth":4,"path":"vic_vsphere_admin/tls_unrestricted.md","ref":"vic_vsphere_admin/tls_unrestricted.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["insert-logo","expandable-chapters","edit-link"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit this Page","base":"https://github.com/vmware/vic-product/tree/master/docs/user_doc"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"insert-logo":{"style":"background: none","url":"VMW_logo.png"},"expandable-chapters":{}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":"_TITLE_","paperSize":"letter","margin":{"right":62,"left":62,"top":56,"bottom":56},"fontSize":12,"fontFamily":"Arial","footerTemplate":"_PAGENUM_","chapterMark":"pagebreak","pageNumbers":true},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"VMware vSphere Integrated Containers 1.3 Documentation","gitbook":"3.x.x"},"file":{"path":"vic_vsphere_admin/vch_cert_options.md","mtime":"2018-04-03T17:03:19.114Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-04-03T17:04:57.080Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-insert-logo/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

