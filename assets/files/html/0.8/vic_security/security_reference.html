<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Security Reference | Version 0.8</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./feedback.html" />
    
    
    <link rel="prev" href="./index.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="1"
        data-chapter-title="Security Reference"
        data-filepath="security_reference.md"
        data-basepath="."
        data-revision="Thu May 11 2017 09:50:21 GMT+0200 (W. Europe Daylight Time)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Version 0.8
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="1" data-path="security_reference.html">
            
                
                    <a href="./security_reference.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Security Reference
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="feedback.html">
            
                
                    <a href="./feedback.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Send Documentation Feedback
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Version 0.8</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="vsphere-integrated-containers-engine-security-reference">vSphere Integrated Containers Engine Security Reference</h1>
<p>Use the Security Reference to learn about the security features of vSphere Integrated Containers Engine.</p>
<ul>
<li><a href="#network">Network Security</a></li>
<li><a href="#open_ports">External Interfaces, Ports, and Services</a></li>
<li><a href="#accounts">Service Accounts and Privileges</a></li>
<li><a href="#patches">Apply Security Updates and Patches</a></li>
<li><a href="#logs">Security Related Log Messages</a></li>
<li><a href="#data">Sensitive Data</a></li>
</ul>
<p><a name="network"></a></p>
<h2 id="network-security">Network Security</h2>
<p>VMware highly recommends using a secure management network for vSphere Integrated Containers Engine. The container VMs communicate with the endpoint VM over the management network when an interactive shell is required. While the communication is encrypted, the public keys are not validated, which leaves scope for man-in-the-middle attacks. This connection is only used for the interactive console when enabled (stdin/out/err), and not for any other purpose.</p>
<p><a name="open_ports"></a></p>
<h2 id="external-interfaces-ports-and-services">External Interfaces, Ports, and Services</h2>
<p>The following ports must be open on the VCH appliance.</p>
<h3 id="endpoint-vm">Endpoint VM</h3>
<p>Client interface:</p>
<ul>
<li>2375 insecure port for Docker API access if deployed with <code>--no-tls</code></li>
<li>2376 for TLS secured port for Docker API access</li>
<li>22 SSH when enabled with <code>vic-machine debug</code></li>
<li>2378 VIC admin server health and log access (HTTPS)</li>
<li>6060 pprof debug data when enabled with --debug levels</li>
</ul>
<p>Management interface:</p>
<ul>
<li>2377 incoming connections from container VMs</li>
<li>443 outgoing connections established to vSphere target</li>
<li>443 outgoing connections established to ESX hosts</li>
</ul>
<p>Bridge interface:</p>
<ul>
<li>53 DNS server for container name resolution</li>
</ul>
<p>Public interface:</p>
<ul>
<li>any port not listed as used elsewhere can be forwarded to a container VM</li>
</ul>
<h3 id="container-vm">Container VM</h3>
<ul>
<li>6060 pprof debug data when enabled with --debug levels</li>
<li>vSphere Integrated Containers Engine does not use ports when not configured for debug</li>
</ul>
<p><a name="accounts"></a></p>
<h2 id="service-accounts-and-privileges">Service Accounts and Privileges</h2>
<p>vSphere Integrated Containers Engine does not create service accounts and does not assign privileges. The <code>--ops-user</code> and <code>--ops-password</code> options allow a VCH to operate with less-privileged credentials than those that are required for deploying a new VCH. For information about the <code>--ops-user</code> option and the permissions that it requires, see the descriptions of <code>--ops-user</code> in <a href="../vic_installation/vch_installer_options.html#ops-user">VCH Deployment Options</a> and <a href="../vic_installation/vch_installer_examples.html#ops-user">Advanced Examples of Deploying a VCH</a>, and the section <a href="../vic_installation/set_up_ops_user.html">Use Different User Accounts for VCH Deployment and Operation</a> in <em>vSphere Integrated Containers Engine Installation</em>.</p>
<p><a name="patches"></a></p>
<h2 id="apply-security-updates-and-patches">Apply Security Updates and Patches</h2>
<p>Download a new version of vSphere Integrated Containers Engine and upgrade your existing VCHs.</p>
<p><a name="logs"></a></p>
<h2 id="security-related-log-messages">Security Related Log Messages</h2>
<p>Security-related information for vSphere Integrated Containers Engine appears in <code>docker-personality.log</code> and <code>vicadmin.log</code>, that you can access from the VCH Admin portal for a VCH.</p>
<p><a name="data"></a></p>
<h2 id="sensitive-data">Sensitive Data</h2>
<p>The VMX file of the VCH endpoint VM stores vSphere Integrated Containers Engine configuration information, which allows most of the configuration to be read-only by the guest. The container VMs might hold sensitive application data, such as environment variables for processes, command arguments, and so on.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./index.html" class="navigation navigation-prev " aria-label="Previous page: Version 0.8"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./feedback.html" class="navigation navigation-next " aria-label="Next page: Send Documentation Feedback"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
