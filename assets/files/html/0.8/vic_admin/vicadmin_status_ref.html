<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>VCH Admin Status Reference | Version 0.8</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./troubleshoot_vic_admin.html" />
    
    
    <link rel="prev" href="./cmdline_login.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="5.3"
        data-chapter-title="VCH Admin Status Reference"
        data-filepath="vicadmin_status_ref.md"
        data-basepath="."
        data-revision="Thu May 11 2017 09:49:43 GMT+0200 (W. Europe Daylight Time)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Version 0.8
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="interop.html">
            
                
                    <a href="./interop.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Interoperability with Other VMware Software
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="vch_admin.html">
            
                
                    <a href="./vch_admin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        VCH Administration
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="vic_machine_version.html">
            
                
                    <a href="./vic_machine_version.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Obtain vic-machine Version Information
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="common_vic_options.html">
            
                
                    <a href="./common_vic_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Common vic-machine Options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="list_vch.html">
            
                
                    <a href="./list_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        List VCHs and Obtain Their IDs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="inspect_vch.html">
            
                
                    <a href="./inspect_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Obtain VCH Information
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="remove_vch.html">
            
                
                    <a href="./remove_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Delete a VCH
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="delete_vch_options.html">
            
                
                    <a href="./delete_vch_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.1.</b>
                        
                        VCH Delete Options
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="vch_portlet_ui.html">
            
                
                    <a href="./vch_portlet_ui.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Find VCH Information in the vSphere Web Client
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="container_portlet_ui.html">
            
                
                    <a href="./container_portlet_ui.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Find Container Information in the vSphere Web Client
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="access_vicadmin.html">
            
                
                    <a href="./access_vicadmin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Access the VCH Admin Portal
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="browser_login.html">
            
                
                    <a href="./browser_login.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Browser-Based Certificate Login
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="cmdline_login.html">
            
                
                    <a href="./cmdline_login.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Command Line Certificate Login
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="5.3" data-path="vicadmin_status_ref.html">
            
                
                    <a href="./vicadmin_status_ref.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        VCH Admin Status Reference
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="troubleshoot_vic_admin.html">
            
                
                    <a href="./troubleshoot_vic_admin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Troubleshooting
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="log_bundles.html">
            
                
                    <a href="./log_bundles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Access Log Bundles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="debug_vch.html">
            
                
                    <a href="./debug_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Debugging the VCH
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.2.1" data-path="vch_shell_access.html">
            
                
                    <a href="./vch_shell_access.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.1.</b>
                        
                        Enable Shell Access to the VCH Endpoint VM
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2.2" data-path="vch_ssh_access.html">
            
                
                    <a href="./vch_ssh_access.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.2.</b>
                        
                        Authorize SSH Access to the VCH Endpoint VM
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2.3" data-path="debug_vch_options.html">
            
                
                    <a href="./debug_vch_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.3.</b>
                        
                        VCH Debug Options
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="ts_delete_inspect_error.html">
            
                
                    <a href="./ts_delete_inspect_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Deleting or Inspecting a VCH Fails with an Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="ts_clock_skew.html">
            
                
                    <a href="./ts_clock_skew.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Connections Fail with Certificate Errors when Using Full TLS Authentication with Trusted Certificates
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="feedback.html">
            
                
                    <a href="./feedback.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Send Documentation Feedback
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Version 0.8</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="vch-admin-status-reference">VCH Admin Status Reference</h1>
<p>The Web-based administration portal for virtual container hosts (VCHs), VCH Admin, presents status information about a VCH.</p>
<p>If the vSphere environment in which you are deploying a VCH does not meet the requirements, the deployment does not succeed. However, a successfully deployed VCH can stop functioning if the vSphere environment changes after the deployment. If environment changes adversely affect the VCH, the status of the affected component changes from green to yellow.</p>
<h2 id="virtual-container-host-vch">Virtual Container Host (VCH)</h2>
<p>VCH Admin checks the status of the processes that the VCH runs:</p>
<ul>
<li>The port layer server, that presents an API of low-level container primitive operations, and implements those container operations via the vSphere APIs.</li>
<li>VCH Admin server, that runs the VCH Admin portal. </li>
<li>The vSphere Integrated Containers Engine initialization service and watchdog service for the other components. </li>
<li>The Docker engine server, that exposes the Docker API and semantics, translating those composite operations into port layer primitives.</li>
</ul>
<h3 id="error">Error</h3>
<ul>
<li>The <strong>VCH</strong> status is yellow.</li>
<li>The <strong>VCH</strong> status is yellow and an error message informs you that the VCH cannot connect to vSphere.</li>
</ul>
<h4 id="cause">Cause</h4>
<ul>
<li>One or more of the VCH processes is not running correctly, or the VCH is unable to connect to vSphere.</li>
<li>The management network connection is down and the VCH endpoint VM cannot connect to vSphere.</li>
</ul>
<h4 id="solution">Solution</h4>
<ol>
<li>(Optional) If you see the error that the VCH is unable to connect to vSphere, check the VCH management network.</li>
<li>In the VCH Admin portal for the VCH, click the link for the <strong>VCH Admin Server</strong> log.</li>
<li><p>Search the log for references to the different VCH processes.</p>
<p>The different processes are identified in the log by the following names:</p>
<ul>
<li><code>port-layer-server</code></li>
<li><code>vicadmin</code></li>
<li><code>vic-init</code></li>
<li><code>docker-engine-server</code></li>
</ul>
</li>
<li><p>Identify the process or processes that are not running correctly and attempt to remediate the issues as required.</p>
</li>
</ol>
<h2 id="registry-and-internet-connectivity">Registry and Internet Connectivity</h2>
<p>VCH Admin checks connectivity on the public network by attempting to connect from the VCH to docker.io and google.com. VCH Admin only checks the public network connection. It does not check other networks, for example the bridge, management, client, or container networks.</p>
<h3 id="error">Error</h3>
<p>The <strong>Registry and Internet Connectivity</strong> status is yellow.</p>
<h4 id="cause">Cause</h4>
<p>The public network connection is down.</p>
<h4 id="solution">Solution</h4>
<p>Check the <strong>VCH Admin Server</strong> log for references to network issues. Use the vSphere Web Client to remediate the management network issues as required.</p>
<h2 id="firewall">Firewall</h2>
<p>VCH Admin checks that the firewall is correctly configured on an ESXi host on which the VCH is running. If the VCH is running in a cluster, VCH Admin checks the firewall configuration on all of the hosts in the cluster.</p>
<h3 id="error">Error</h3>
<ul>
<li>The <strong>Firewall</strong> status is unavailable.</li>
<li>The <strong>Firewall</strong> status is yellow and shows the error <code>Firewall must permit 2377/tcp outbound to use VIC</code>.</li>
</ul>
<h4 id="cause">Cause</h4>
<ul>
<li>The management network connection is down and the VCH endpoint VM cannot connect to vSphere. </li>
<li><p>The firewall on the ESXi host on which the VCH is running no longer allows outbound connections on port 2377.</p>
<ul>
<li>The firewall was switched off when the VCH was deployed. The firewall has been switched on since the deployment of the VCH.</li>
<li>A firewall ruleset was applied to the ESXi host to allow outbound connections on port 2377. The ESXi host has been rebooted since the deployment of the VCH. Firewall rulesets are not retained when an ESXi host reboots.</li>
</ul>
</li>
</ul>
<h4 id="solution">Solution</h4>
<ul>
<li>If the <strong>Firewall</strong> status is unavailable: <ul>
<li>Check the <strong>VCH Admin Server</strong> log for references to network issues. </li>
<li>Use the vSphere Web Client to remediate the management network issues as required.</li>
</ul>
</li>
<li>If you see the error about port 2377, reconfigure the firewall on the ESXi host or hosts to allow  outbound connections on port 2377. For information about how to reconfigure the firewall on ESXi hosts, see <a href="../vic_installation/ts_firewall_error.html">VCH Deployment Fails with Firewall Validation Error</a> in <em>vSphere Integrated Containers Engine Installation</em>.</li>
</ul>
<h2 id="license">License</h2>
<p>VCH Admin checks that the ESXi hosts on which you deploy VCHs have the appropriate licenses.</p>
<h3 id="error">Error</h3>
<ul>
<li>The <strong>License</strong> status is yellow and shows the error <code>License does not meet minimum requirements to use VIC</code>.</li>
<li>The <strong>License</strong> status is unavailable.</li>
</ul>
<h4 id="cause">Cause</h4>
<ul>
<li>The license for the ESXi host or for one or more of the hosts in a vCenter Server cluster on which the VCH is deployed has been removed, downgraded, or has expired since the deployment of the VCH.</li>
<li>The management network is down, or the VCH endpoint VM is unable to connect to vSphere.</li>
</ul>
<h4 id="solution">Solution</h4>
<ul>
<li>If the license does not meet the requirements:<ul>
<li>If the VCH is running on an ESXi host that is not managed by vCenter Server, replace the ESXi host license with a valid vSphere Enterprise license.</li>
<li>If the VCH is running on a standalone ESXi host in vCenter Server, replace the ESXi host license with a valid vSphere Enterprise Plus license.</li>
<li>If the VCH is running in a vCenter Server cluster, check that all of the hosts in the cluster have a valid vSphere Enterprise Plus license, and replace any licenses that have been removed, downgraded, or have expired.</li>
</ul>
</li>
<li>If the <strong>License</strong> status is unavailable: <ul>
<li>Check the <strong>VCH Admin Server</strong> log for references to network issues. </li>
<li>Use the vSphere Web Client to remediate the management network issues as required.</li>
</ul>
</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./cmdline_login.html" class="navigation navigation-prev " aria-label="Previous page: Command Line Certificate Login"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./troubleshoot_vic_admin.html" class="navigation navigation-next " aria-label="Next page: Troubleshooting"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
