<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Delete a VCH | VMware vSphere Integrated Containers Engine 0.9 for vSphere Administrators</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./delete_vch_options.html" />
    
    
    <link rel="prev" href="./inspect_vch.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="2.5"
        data-chapter-title="Delete a VCH"
        data-filepath="remove_vch.md"
        data-basepath="."
        data-revision="Thu Mar 09 2017 18:02:39 GMT+0100 (W. Europe Standard Time)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="interop.html">
            
                
                    <a href="./interop.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Interoperability with Other VMware Software
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="vch_admin.html">
            
                
                    <a href="./vch_admin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        VCH Administration
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="vic_machine_version.html">
            
                
                    <a href="./vic_machine_version.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Obtain vic-machine Version Information
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="common_vic_options.html">
            
                
                    <a href="./common_vic_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Common vic-machine Options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="list_vch.html">
            
                
                    <a href="./list_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        List VCHs and Obtain Their IDs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="inspect_vch.html">
            
                
                    <a href="./inspect_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Obtain VCH Information
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.5" data-path="remove_vch.html">
            
                
                    <a href="./remove_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Delete a VCH
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="delete_vch_options.html">
            
                
                    <a href="./delete_vch_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.1.</b>
                        
                        VCH Delete Options
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="upgrade_vch.html">
            
                
                    <a href="./upgrade_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Upgrade a Virtual Container Host
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="upgrade_vch_options.html">
            
                
                    <a href="./upgrade_vch_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.1.</b>
                        
                        Virtual Container Host Upgrade Options
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="vch_portlet_ui.html">
            
                
                    <a href="./vch_portlet_ui.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Find VCH Information in the vSphere Web Client
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="container_portlet_ui.html">
            
                
                    <a href="./container_portlet_ui.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Find Container Information in the vSphere Web Client
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="upgrade_ui_plugin.html">
            
                
                    <a href="./upgrade_ui_plugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Upgrade the vSphere Integrated Containers Engine Plug-In
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="access_vicadmin.html">
            
                
                    <a href="./access_vicadmin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Access the VCH Admin Portal
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="browser_login.html">
            
                
                    <a href="./browser_login.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Browser-Based Certificate Login
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="cmdline_login.html">
            
                
                    <a href="./cmdline_login.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Command Line Certificate Login
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="vicadmin_status_ref.html">
            
                
                    <a href="./vicadmin_status_ref.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        VCH Admin Status Reference
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="troubleshoot_vic_admin.html">
            
                
                    <a href="./troubleshoot_vic_admin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Troubleshooting
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="log_bundles.html">
            
                
                    <a href="./log_bundles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Access Log Bundles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="debug_vch.html">
            
                
                    <a href="./debug_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Debugging the VCH
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="vch_shell_access.html">
            
                
                    <a href="./vch_shell_access.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.1.</b>
                        
                        Enable Shell Access to the VCH Endpoint VM
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="vch_ssh_access.html">
            
                
                    <a href="./vch_ssh_access.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.2.</b>
                        
                        Authorize SSH Access to the VCH Endpoint VM
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="debug_vch_options.html">
            
                
                    <a href="./debug_vch_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.3.</b>
                        
                        VCH Debug Options
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="ts_delete_inspect_error.html">
            
                
                    <a href="./ts_delete_inspect_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Deleting or Inspecting a VCH Fails with an Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="ts_clock_skew.html">
            
                
                    <a href="./ts_clock_skew.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Connections Fail with Certificate Errors when Using Full TLS Authentication with Trusted Certificates
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="feedback.html">
            
                
                    <a href="./feedback.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Send Documentation Feedback
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >VMware vSphere Integrated Containers Engine 0.9 for vSphere Administrators</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="delete-a-vch">Delete a VCH</h1>
<p>You delete virtual container hosts (VCHs) by using the <code>vic-machine delete</code> command.</p>
<p>For descriptions of the options that <code>vic-machine delete</code> includes in addition to the <a href="common_vic_options.html">Common <code>vic-machine</code> Options</a> , see <a href="delete_vch_options.html">VCH Delete Options</a>.</p>
<p>When you delete a VCH that uses TLS authentication with trusted Certificate Authority (CA) certificates, <code>vic-machine delete</code> does not delete the certificates or the certificate folder, even if you specify the <code>--force</code> option. Because <code>vic-machine delete</code> does not delete the certificates, you can delete VCHs and create new ones that reuse the same certificates. This is useful if you have already distributed the client certificates for VCHs that you need to recreate.</p>
<p><strong>Prerequisites</strong></p>
<p>You have deployed a VCH that you no longer require.</p>
<p><strong>Procedure</strong></p>
<ol>
<li>On the system on which you run <code>vic-machine</code>, navigate to the directory that contains the <code>vic-machine</code> utility.</li>
<li><p>Run the <code>vic-machine delete</code> command. </p>
<p>The following example includes the options required to remove a VCH from a simple vCenter Server environment. </p>
<ul>
<li>You must specify the username and optionally the password, either in the <code>--target</code> option or separately in the <code>--user</code> and <code>--password</code> options. </li>
<li>If the VCH has a name other than the default name, <code>virtual-container-host</code>, you must specify the <code>--name</code> or <code>--id</code> option. </li>
<li>If multiple compute resources exist in the datacenter, you must specify the <code>--compute-resource</code> or <code>--id</code> option.</li>
<li>If your vSphere environment uses untrusted, self-signed certificates, you must also specify the thumbprint of the vCenter Server instance or ESXi host in the <code>--thumbprint</code> option. To obtain the thumbprint of the vCenter Server or ESXi host certificate, run <code>vic-machine</code> without the specifying the <code>--thumbprint</code> or <code>--force</code> options. The deletion of the VCH fails, but the resulting error message includes the required certificate thumbprint. You can copy the thumbprint from the error message and run <code>vic-machine</code> again, including the <code>--thumbprint</code> option.</li>
</ul>
<pre>$ vic-machine-<i>operating_system</i> delete
--target <i>vcenter_server_username</i>:<i>password</i>@<i>vcenter_server_address</i>
--thumbprint <i>certificate_thumbprint</i>
--name <i>vch_name</i></pre>
</li>
<li><p>If the delete operation fails with a message about container VMs that are powered on, run <code>docker stop</code> on the containers and run <code>vic-machine delete</code>. Alternatively, run <code>vic-machine delete</code> with the <code>--force</code> option.</p>
<p><strong>CAUTION</strong> Running <code>vic-machine delete</code> with the <code>--force</code> option removes all running container VMs that the VCH manages, as well as any associated volumes and volume stores. It is not recommended to use the <code>--force</code> option to remove running containers.</p>
<p>If your vSphere environment uses untrusted, self-signed certificates, running <code>vic-machine delete</code> with the <code>--force</code> option allows you to omit the <code>--thumbprint</code> option.</p>
<pre>$ vic-machine-<i>operating_system</i> delete
--target <i>vcenter_server_username</i>:<i>password</i>@<i>vcenter_server_address</i>
--name <i>vch_name</i>
--force</pre></li>
</ol>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./inspect_vch.html" class="navigation navigation-prev " aria-label="Previous page: Obtain VCH Information"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./delete_vch_options.html" class="navigation navigation-next " aria-label="Next page: VCH Delete Options"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
