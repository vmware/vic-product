<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Networks Used by vSphere Integrated Containers Engine | VMware vSphere Integrated Containers Engine 0.9 Installation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./download_vic.html" />
    
    
    <link rel="prev" href="./introduction.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="1.1"
        data-chapter-title="Networks Used by vSphere Integrated Containers Engine"
        data-filepath="networks.md"
        data-basepath="."
        data-revision="Mon Mar 20 2017 11:53:05 GMT+0100 (W. Europe Standard Time)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="introduction.html">
            
                
                    <a href="./introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview of vSphere Integrated Containers Engine for vSphere Administrators
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.1" data-path="networks.html">
            
                
                    <a href="./networks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Networks Used by vSphere Integrated Containers Engine
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="download_vic.html">
            
                
                    <a href="./download_vic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Download vSphere Integrated Containers
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="contents_of_vic_binaries.html">
            
                
                    <a href="./contents_of_vic_binaries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Contents of the vSphere Integrated Containers Engine Binaries
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="deploy_vch.html">
            
                
                    <a href="./deploy_vch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Deploy VCHs
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="vic_installation_prereqs.html">
            
                
                    <a href="./vic_installation_prereqs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Environment Prerequisites for VCH Deployment
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="deploy_vch_esxi.html">
            
                
                    <a href="./deploy_vch_esxi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Deploy a VCH to an ESXi Host with No vCenter Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="deploy_vch_vcenter.html">
            
                
                    <a href="./deploy_vch_vcenter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Deploy a VCH to a Basic vCenter Server Cluster
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="verify_vch_deployment.html">
            
                
                    <a href="./verify_vch_deployment.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Verify the Deployment of a VCH
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="vch_installer_options.html">
            
                
                    <a href="./vch_installer_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        VCH Deployment Options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="vch_installer_examples.html">
            
                
                    <a href="./vch_installer_examples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Advanced Examples of Deploying a VCH
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="set_up_ops_user.html">
            
                
                    <a href="./set_up_ops_user.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Use Different User Accounts for VCH Deployment and Operation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="deploy_vch_harbor.html">
            
                
                    <a href="./deploy_vch_harbor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Deploy a VCH with vSphere Integrated Containers Registry (Harbor)
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="install_vic_plugin.html">
            
                
                    <a href="./install_vic_plugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Installing the vSphere Client Plug-ins
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="plugin_h5_vcsa.html">
            
                
                    <a href="./plugin_h5_vcsa.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        HTML5 on VCSA
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="plugin_h5_vc_web.html">
            
                
                    <a href="./plugin_h5_vc_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        HTML5 on Windows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="plugin_vc_web.html">
            
                
                    <a href="./plugin_vc_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Flex on Windows with a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="plugin_vc_no_web.html">
            
                
                    <a href="./plugin_vc_no_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Flex on Windows Without a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="plugin_vcsa_web.html">
            
                
                    <a href="./plugin_vcsa_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Flex on VCSA with a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="plugin_vcsa_no_web.html">
            
                
                    <a href="./plugin_vcsa_no_web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Flex on VCSA Without a Web Server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="plugin_verify_deployment.html">
            
                
                    <a href="./plugin_verify_deployment.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Verify the Deployment of the Flex Plug-In
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="troubleshoot_vic_install.html">
            
                
                    <a href="./troubleshoot_vic_install.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Troubleshooting vSphere Integrated Containers Engine Installation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="ts_vch_deployment_timeout.html">
            
                
                    <a href="./ts_vch_deployment_timeout.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        VCH Deployment Times Out
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="ts_thumbprint_error.html">
            
                
                    <a href="./ts_thumbprint_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        VCH Deployment Fails with a Certificate Verification Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="ts_cli_argument_error.html">
            
                
                    <a href="./ts_cli_argument_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        VCH Deployment Fails with Missing Common Name Error Even When TLS Options Are Specified Correctly
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="ts_firewall_error.html">
            
                
                    <a href="./ts_firewall_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        VCH Deployment Fails with Firewall Validation Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="ts_cname_mismatch.html">
            
                
                    <a href="./ts_cname_mismatch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        VCH Deployment Fails with Certificate cname Mismatch
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="ts_docker_api_check_error.html">
            
                
                    <a href="./ts_docker_api_check_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        VCH Deployment Fails with Docker API Endpoint Check Failed Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="ts_datastore_access_error.html">
            
                
                    <a href="./ts_datastore_access_error.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        VCH Deployment Fails with Error About No Single Host Being Able to Access All Datastores
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="ts_ui_not_appearing.html">
            
                
                    <a href="./ts_ui_not_appearing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Plug-In Does Not Appear
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="feedback.html">
            
                
                    <a href="./feedback.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Send Documentation Feedback
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >VMware vSphere Integrated Containers Engine 0.9 Installation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="networks-used-by-vsphere-integrated-containers-engine">Networks Used by vSphere Integrated Containers Engine</h1>
<p>You can configure networks on a virtual container host (VCH) that are tied into the vSphere infrastructure. You define which networks are available to a VCH when you deploy the VCH.</p>
<p>Each network that a VCH uses is a port group on either a vCenter Server instance or ESXi host.</p>
<p>This topic provides an overview of the different network types that virtual container hosts use.</p>
<ul>
<li><a href="#highlevel">High-Level View of VCH Networking</a></li>
<li><a href="#management">Management Network</a></li>
<li><a href="#public">Public Network</a></li>
<li><a href="#client">Client Network</a></li>
<li><a href="#bridge">Bridge Network</a></li>
<li><a href="#container">Container Networks</a></li>
</ul>
<p><a name="highlevel"></a></p>
<h2 id="highlevel-view-of-vch-networking">High-Level View of VCH Networking</h2>
<p>The image below shows a high-level view of the networks that a VCH uses and how they connect to your vSphere environment and to the Docker environment that container developers use. </p>
<p> <img src="graphics/vch_networking.png" alt="VCH Networking"></p>
<p>The following sections describe each of the VCH network types, that are represented in the image by green elipses. The blue shapes represent   Docker objects, and the gray shapes represent vSphere. </p>
<p><strong>IMPORTANT</strong>: A VCH supports a maximum of 3 distinct network interfaces. The bridge network requires its own port group, at least two of the public, client, and management networks must share a network interface and therefore a port group. Container networks do not go through the VCH, so they are not subject to this limitation. This limitation will be removed in a future release.</p>
<p><a name="management"></a></p>
<h2 id="management-network">Management Network</h2>
<p>The network for communication between the VCH and vCenter Server and ESXi hosts. The VCH uses this network to provide the <code>attach</code> function of the Docker API.</p>
<p><strong>IMPORTANT</strong>: Because the management network provides access to your vSphere environment, and because container VMs use this network to communicate with the VCH, always use a secure network for the management network. Ideally, use separate networks for the management network and the container networks.</p>
<p>You define the management network by setting the <code>--management-network</code> option when you run <code>vic-machine create</code>. For more detailed information about management networks, see the section on the <code>--management-network</code> option in <a href="vch_installer_options.html#management-network">VCH Deployment Options</a>.</p>
<p><a name="public"></a></p>
<h2 id="public-network">Public Network</h2>
<p>The network that container VMs use to connect to the internet. Ports that containers expose with <code>docker create -p</code> when connected to the default bridge network are made available on the public interface of the VCH endpoint VM via network address translation (NAT), so that containers can publish network services.</p>
<p>You define the public network by setting the <code>--public-network</code> option when you run <code>vic-machine create</code>. For  more detailed information about management networks, see the section on the <code>--public-network</code> option in <a href="vch_installer_options.html#public-network">VCH Deployment Options</a>.</p>
<p><a name="client"></a></p>
<h2 id="client-network">Client Network</h2>
<p>The network on which the VCH endpoint VM makes the Docker API available to Docker clients. The client network isolates the Docker endpoints from the public network.</p>
<p>You define the Docker management endpoint network by setting the <code>--client-network</code> option when you run <code>vic-machine create</code>. For  more detailed information about Docker management endpoint networks, see the section on the <code>--client-network</code> option in <a href="vch_installer_options.html#client-network">VCH Deployment Options</a>.</p>
<p><a name="bridge"></a></p>
<h2 id="bridge-network">Bridge Network</h2>
<p>The network or networks that container VMs use to communicate with each other. Each VCH requires a unique bridge network. The bridge network is a port group on a distributed virtual switch.</p>
<p><strong>IMPORTANT</strong>: Do not use the bridge network for any other VM workloads, or as a bridge for more than one VCH.</p>
<p>You define the bridge networks by setting the <code>--bridge-network</code> option when you run <code>vic-machine create</code>.  For  more detailed information about bridge networks, see the section on the <code>--bridge-network</code> option in <a href="vch_installer_options.html#bridge">VCH Deployment Options</a>.</p>
<p>Container application developers can also use <code>docker network create</code> to create additional bridge networks. These networks are represented by the User-Created Bridge Network in the image above. Additional bridge networks are created by IP address segregation and are not new port groups. You can define a range of IP addresses that additional bridge networks can use by defining the <code>bridge-network-range</code> option when you run <code>vic-machine create</code>. For  more detailed information about  how to set bridge network ranges, see the section on the <a href="vch_installer_options.html#bridge-range"><code>bridge-network-range</code> option</a>. </p>
<p><a name="container"></a></p>
<h2 id="container-networks">Container Networks</h2>
<p>Container networks allow the vSphere administrator to make vSphere networks directly available to containers. This is done during deployment of a VCH by providing a mapping of the vSphere network name to an alias that is used inside the VCH endpoint VM. The mapped networks are then listed as available by the Docker API. Running <code>docker network ls</code> shows these networks, and container developers can attach them to containers in the normal way by using commands such as <code>docker run</code> or <code>create</code>, with the <code>--network=_mapped-network-name_</code> or <code>docker network connect</code>. The containers connected to container networks are connected directly to these networks, and traffic does not route though the VCH endpoint VM using NAT.</p>
<p>You can share one network alias between multiple containers. For  more detailed information about setting up container networks, see the sections on the <code>container-network-xxx</code> options in <a href="vch_installer_options.html#container-network">Virtual Container Host Deployment Options</a>. </p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./introduction.html" class="navigation navigation-prev " aria-label="Previous page: Overview of vSphere Integrated Containers Engine for vSphere Administrators"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./download_vic.html" class="navigation navigation-next " aria-label="Next page: Download vSphere Integrated Containers"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
